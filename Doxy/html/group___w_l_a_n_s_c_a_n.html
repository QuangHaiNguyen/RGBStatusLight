<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RGBStatusLight: Scanning</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RGBStatusLight
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___w_l_a_n_s_c_a_n.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Scanning<div class="ingroups"><a class="el" href="group__m2m__wifi.html">WLAN</a> &raquo; <a class="el" href="group___w_l_a_n_a_p_i.html">WLAN Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Here are listed all the functions that implement the Wi-Fi Scanning APIs.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf270d6f64b704d8a13358ddf4c7f21a9"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_s_c_a_n.html#gaf270d6f64b704d8a13358ddf4c7f21a9">m2m_wifi_set_scan_options</a> (<a class="el" href="structtstr_m2_m_scan_option.html">tstrM2MScanOption</a> *ptstrM2MScanOption)</td></tr>
<tr class="memdesc:gaf270d6f64b704d8a13358ddf4c7f21a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronous API for configuring the behaviour of the WINC network scanning functions.  <a href="group___w_l_a_n_s_c_a_n.html#gaf270d6f64b704d8a13358ddf4c7f21a9">More...</a><br /></td></tr>
<tr class="separator:gaf270d6f64b704d8a13358ddf4c7f21a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f7cd8414e3725cae803b89c09b41bff"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_s_c_a_n.html#ga0f7cd8414e3725cae803b89c09b41bff">m2m_wifi_set_scan_region</a> (uint16_t u16ScanRegion)</td></tr>
<tr class="memdesc:ga0f7cd8414e3725cae803b89c09b41bff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronous API for configuring the regulatory restrictions that may affect the WINC scanning behaviour.  <a href="group___w_l_a_n_s_c_a_n.html#ga0f7cd8414e3725cae803b89c09b41bff">More...</a><br /></td></tr>
<tr class="separator:ga0f7cd8414e3725cae803b89c09b41bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39eab477f1dbb3b2a768d8a0fdc45b27"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_s_c_a_n.html#ga39eab477f1dbb3b2a768d8a0fdc45b27">m2m_wifi_request_scan</a> (uint8_t u8Ch)</td></tr>
<tr class="memdesc:ga39eab477f1dbb3b2a768d8a0fdc45b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous API to request the WINC to scan for networks.  <a href="group___w_l_a_n_s_c_a_n.html#ga39eab477f1dbb3b2a768d8a0fdc45b27">More...</a><br /></td></tr>
<tr class="separator:ga39eab477f1dbb3b2a768d8a0fdc45b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7835becaa9fcc09485724904d06ef182"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_s_c_a_n.html#ga7835becaa9fcc09485724904d06ef182">m2m_wifi_request_scan_passive</a> (uint8_t u8Ch, uint16_t u16ScanTime)</td></tr>
<tr class="memdesc:ga7835becaa9fcc09485724904d06ef182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to <a class="el" href="group__m2m__wifi.html#ga39eab477f1dbb3b2a768d8a0fdc45b27">m2m_wifi_request_scan</a> but performs passive scanning instead of active scanning.  <a href="group___w_l_a_n_s_c_a_n.html#ga7835becaa9fcc09485724904d06ef182">More...</a><br /></td></tr>
<tr class="separator:ga7835becaa9fcc09485724904d06ef182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga113c7905d21a932de8c06f0af023c428"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_s_c_a_n.html#ga113c7905d21a932de8c06f0af023c428">m2m_wifi_request_scan_ssid_list</a> (uint8_t u8Ch, uint8_t *pu8Ssidlist)</td></tr>
<tr class="memdesc:ga113c7905d21a932de8c06f0af023c428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous Wi-Fi scan request on the given channel and the hidden scan list.  <a href="group___w_l_a_n_s_c_a_n.html#ga113c7905d21a932de8c06f0af023c428">More...</a><br /></td></tr>
<tr class="separator:ga113c7905d21a932de8c06f0af023c428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1638306107bf997ec4df62a473dba3b4"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_s_c_a_n.html#ga1638306107bf997ec4df62a473dba3b4">m2m_wifi_get_num_ap_found</a> (void)</td></tr>
<tr class="memdesc:ga1638306107bf997ec4df62a473dba3b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronous function to retrieve the number of AP's found during the last scan operation.  <a href="group___w_l_a_n_s_c_a_n.html#ga1638306107bf997ec4df62a473dba3b4">More...</a><br /></td></tr>
<tr class="separator:ga1638306107bf997ec4df62a473dba3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecfcbf84f283cd76de00a6e884f421fe"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_s_c_a_n.html#gaecfcbf84f283cd76de00a6e884f421fe">m2m_wifi_req_scan_result</a> (uint8_t u8Index)</td></tr>
<tr class="memdesc:gaecfcbf84f283cd76de00a6e884f421fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous API to request the information of an access point discovered via scanning.  <a href="group___w_l_a_n_s_c_a_n.html#gaecfcbf84f283cd76de00a6e884f421fe">More...</a><br /></td></tr>
<tr class="separator:gaecfcbf84f283cd76de00a6e884f421fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Here are listed all the functions that implement the Wi-Fi Scanning APIs. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1638306107bf997ec4df62a473dba3b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1638306107bf997ec4df62a473dba3b4">&#9670;&nbsp;</a></span>m2m_wifi_get_num_ap_found()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t m2m_wifi_get_num_ap_found </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronous function to retrieve the number of AP's found during the last scan operation. </p>
<p>The function reads the number of APs from global variable which was updated in the Wi-Fi callback function through the <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> event. Function used only in STA mode only.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m2m__wifi.html#ga39eab477f1dbb3b2a768d8a0fdc45b27" title="Asynchronous API to request the WINC to scan for networks.">m2m_wifi_request_scan</a> <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>m2m_wifi_request_scan must be called first to ensure up to date results are available.<ul>
<li>A Wi-Fi notification callback of type <a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0">tpfAppWifiCb</a> MUST be implemented and registered at initialization. Registering the callback is done through passing it to the <a class="el" href="group__m2m__wifi.html#ga66f5bf5f84f898bdd4453f2717a3deb5">m2m_wifi_init</a>.</li>
<li>The event <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> must be handled in the callback to receive the requested scan information.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function must be called only in the Wi-Fi callback function when the events <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> or <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a> are received. Calling this function in any other place will result in undefined/outdated numbers.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of AP's found in the last Scan Request.</dd></dl>
<h1><a class="anchor" id="WIFIExample7"></a>
Example</h1>
<p>The code snippet demonstrates an example of how the scan request is called from the application's main function and the handling of the events received in response.</p>
<div class="fragment"></div><!-- fragment --> 
</div>
</div>
<a id="gaecfcbf84f283cd76de00a6e884f421fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecfcbf84f283cd76de00a6e884f421fe">&#9670;&nbsp;</a></span>m2m_wifi_req_scan_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_req_scan_result </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>u8Index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous API to request the information of an access point discovered via scanning. </p>
<p>This function allows the information of any discovered access point to be retrieved. When a scan is completed, the application is informed of the number of networks (access points) discovered. Calling this function with an index, N, will return the information for the Nth access point. The information will be returned to the application via a <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a> event, and the response data may be obtained through casting the pointer (pvMsg) to <a class="el" href="structtstr_m2m_wifiscan_result.html">tstrM2mWifiscanResult</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Index</td><td>Index for the requested result, the index range start from 0 till number of AP's found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns M2M_SUCCESS if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structtstr_m2m_wifiscan_result.html" title="This struct contains the information corresponding to an AP in the scan result list identified by its...">tstrM2mWifiscanResult</a> <a class="el" href="group__m2m__wifi.html#ga1638306107bf997ec4df62a473dba3b4" title="Synchronous function to retrieve the number of AP&#39;s found during the last scan operation.">m2m_wifi_get_num_ap_found</a> <a class="el" href="group__m2m__wifi.html#ga39eab477f1dbb3b2a768d8a0fdc45b27" title="Asynchronous API to request the WINC to scan for networks.">m2m_wifi_request_scan</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li><a class="el" href="group__m2m__wifi.html#ga39eab477f1dbb3b2a768d8a0fdc45b27">m2m_wifi_request_scan</a> must be called first to ensure up to date results are available.</li>
<li>A Wi-Fi notification callback of type <a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0">tpfAppWifiCb</a> MUST be implemented and registered in order to receive scan data after calling this function. Registration of the callback is done via the <a class="el" href="group__m2m__wifi.html#ga66f5bf5f84f898bdd4453f2717a3deb5">m2m_wifi_init</a> function.</li>
<li>The event <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a> must be handled in the callback to receive the requested scan information.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><ul>
<li>This API is valid only for STA mode, it may be called regardless of the connection state (connected or disconnected).</li>
<li>Calling this function without first issuing a scan request may lead to stale data being recovered.</li>
<li>Application code should refrain from introducing significant delays between issuing the scan request and scan result requests.</li>
</ul>
</dd></dl>
<h1><a class="anchor" id="WIFIExample8"></a>
Example</h1>
<p>The code snippet demonstrates an example of how the scan request is called from the application's main function and the handling of the events received in the response.</p>
<div class="fragment"></div><!-- fragment --> 
</div>
</div>
<a id="ga39eab477f1dbb3b2a768d8a0fdc45b27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39eab477f1dbb3b2a768d8a0fdc45b27">&#9670;&nbsp;</a></span>m2m_wifi_request_scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_request_scan </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>u8Ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous API to request the WINC to scan for networks. </p>
<p>Scan statuses are delivered to the application via the Wi-Fi event callback (<a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0">tpfAppWifiCb</a>) in three stages. The first step involves the event <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> which, if successful, provides the number of detected networks (access points). The application must then read the list of access points via multiple calls to the asynchronous <a class="el" href="group__m2m__wifi.html#gaecfcbf84f283cd76de00a6e884f421fe">m2m_wifi_req_scan_result</a> API. For each call to this function, the application will receive (step three) the event <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Ch</td><td>RF Channel ID for SCAN operation. It should be set according to <a class="el" href="group___w_l_a_n_enums.html#ga2a91dd671e2672dba1a7ed45230f3a99">tenuM2mScanCh</a>, with a value of M2M_WIFI_CH_ALL to scan all channels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns M2M_SUCCESS if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>A Wi-Fi notification callback of type <a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0">tpfAppWifiCb</a> MUST be implemented and registered at initialization. Registration of the callback is done via <a class="el" href="group__m2m__wifi.html#ga66f5bf5f84f898bdd4453f2717a3deb5">m2m_wifi_init</a>.</li>
<li>The events <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> and <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a> must be handled in the (<a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0">tpfAppWifiCb</a>) callback.</li>
<li>The <a class="el" href="group__m2m__wifi.html#gae397199d8523f172b33309b82c34c2af">m2m_wifi_handle_events</a> function MUST be called to receive the responses in the callback.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This API is valid only for STA mode, it may be called regardless of connection state (connected or disconnected states).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a> <a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0" title="This is the main callback function for the Wi-Fi driver and is responsible for processing any M2M_WIF...">tpfAppWifiCb</a> <a class="el" href="structtstr_m2m_wifiscan_result.html" title="This struct contains the information corresponding to an AP in the scan result list identified by its...">tstrM2mWifiscanResult</a> <a class="el" href="group___w_l_a_n_enums.html#ga2a91dd671e2672dba1a7ed45230f3a99" title="This enum contains all the Wi-Fi RF channels.">tenuM2mScanCh</a> <a class="el" href="group__m2m__wifi.html#ga66f5bf5f84f898bdd4453f2717a3deb5" title="Synchronous API to initialize the WINC driver.">m2m_wifi_init</a> <a class="el" href="group__m2m__wifi.html#gae397199d8523f172b33309b82c34c2af" title="Synchronous M2M event handler function.">m2m_wifi_handle_events</a> <a class="el" href="group__m2m__wifi.html#gaecfcbf84f283cd76de00a6e884f421fe" title="Asynchronous API to request the information of an access point discovered via scanning.">m2m_wifi_req_scan_result</a></dd></dl>
<h1><a class="anchor" id="WIFIExample6"></a>
Example</h1>
<p>The code snippet demonstrates an example of how the scan request is called from the application's main function and the handling of the events received in response.</p>
<div class="fragment"></div><!-- fragment --> 
</div>
</div>
<a id="ga7835becaa9fcc09485724904d06ef182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7835becaa9fcc09485724904d06ef182">&#9670;&nbsp;</a></span>m2m_wifi_request_scan_passive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_request_scan_passive </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>u8Ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>u16ScanTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Similar to <a class="el" href="group__m2m__wifi.html#ga39eab477f1dbb3b2a768d8a0fdc45b27">m2m_wifi_request_scan</a> but performs passive scanning instead of active scanning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Ch</td><td>RF Channel ID for SCAN operation. It should be set according to <a class="el" href="group___w_l_a_n_enums.html#ga2a91dd671e2672dba1a7ed45230f3a99">tenuM2mScanCh</a>. With a value of M2M_WIFI_CH_ALL, means to scan all channels.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u16ScanTime</td><td>The time in ms that passive scan is listening for beacons on each channel per one slot, enter 0 for default setting.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function is not allowed in AP mode. It works only for STA mode (both connected or disconnected states).</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>A Wi-Fi notification callback of type <a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0">tpfAppWifiCb</a> MUST be implemented and registered at initialization. Registering the callback is done through passing it to the <a class="el" href="group__m2m__wifi.html#ga66f5bf5f84f898bdd4453f2717a3deb5">m2m_wifi_init</a>.</li>
<li>The events <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> and <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a>. must be handled in the callback.</li>
<li>The <a class="el" href="group__m2m__wifi.html#gae397199d8523f172b33309b82c34c2af">m2m_wifi_handle_events</a> function MUST be called to receive the responses in the callback.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a> <a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0" title="This is the main callback function for the Wi-Fi driver and is responsible for processing any M2M_WIF...">tpfAppWifiCb</a> <a class="el" href="structtstr_m2_m_scan_option.html" title="This struct contains the configuration options for Wi-Fi scan.">tstrM2MScanOption</a> <a class="el" href="structtstr_m2m_wifiscan_result.html" title="This struct contains the information corresponding to an AP in the scan result list identified by its...">tstrM2mWifiscanResult</a> <a class="el" href="group___w_l_a_n_enums.html#ga2a91dd671e2672dba1a7ed45230f3a99" title="This enum contains all the Wi-Fi RF channels.">tenuM2mScanCh</a> <a class="el" href="group__m2m__wifi.html#ga66f5bf5f84f898bdd4453f2717a3deb5" title="Synchronous API to initialize the WINC driver.">m2m_wifi_init</a> <a class="el" href="group__m2m__wifi.html#ga39eab477f1dbb3b2a768d8a0fdc45b27" title="Asynchronous API to request the WINC to scan for networks.">m2m_wifi_request_scan</a> <a class="el" href="group__m2m__wifi.html#gae397199d8523f172b33309b82c34c2af" title="Synchronous M2M event handler function.">m2m_wifi_handle_events</a> <a class="el" href="group__m2m__wifi.html#gaecfcbf84f283cd76de00a6e884f421fe" title="Asynchronous API to request the information of an access point discovered via scanning.">m2m_wifi_req_scan_result</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns M2M_SUCCESS for successful operations and a negative value otherwise. </dd></dl>

</div>
</div>
<a id="ga113c7905d21a932de8c06f0af023c428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga113c7905d21a932de8c06f0af023c428">&#9670;&nbsp;</a></span>m2m_wifi_request_scan_ssid_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_request_scan_ssid_list </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>u8Ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pu8Ssidlist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous Wi-Fi scan request on the given channel and the hidden scan list. </p>
<p>The scan status is delivered in the Wi-Fi event callback and then the application is to read the scan results sequentially. The number of APs found (N) is returned in event <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> with the number of found APs. The application could read the list of APs by calling the function <a class="el" href="group__m2m__wifi.html#gaecfcbf84f283cd76de00a6e884f421fe">m2m_wifi_req_scan_result</a> N times.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Ch</td><td>RF Channel ID for SCAN operation. It should be set according to <a class="el" href="group___w_l_a_n_enums.html#ga2a91dd671e2672dba1a7ed45230f3a99">tenuM2mScanCh</a>. With a value of M2M_WIFI_CH_ALL, means to scan all channels.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pu8Ssidlist</td><td>u8SsidList is a buffer containing a list of hidden SSIDs to include during the scan. The first byte in the buffer, u8SsidList[0], is the number of SSIDs encoded in the string. The number of hidden SSIDs cannot exceed <a class="el" href="group___w_l_a_n_defines.html#gaeace85ae13a66b042b2b3d044460138d">MAX_HIDDEN_SITES</a>. All SSIDs are concatenated in the following bytes and each SSID is prefixed with a one-byte header containing its length. The total number of bytes in u8SsidList buffer, including length byte, cannot exceed 133 bytes (MAX_HIDDEN_SITES SSIDs x 32 bytes each, which is max SSID length). For instance, encoding the two hidden SSIDs "DEMO_AP" and "TEST" results in the following buffer content:</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">uint8_t u8SsidList[14];</div>
<div class="line">u8SsidList[0] = 2; <span class="comment">// Number of SSIDs is 2</span></div>
<div class="line">u8SsidList[1] = 7; <span class="comment">// Length of the string &quot;DEMO_AP&quot; without NULL termination</span></div>
<div class="line">memcpy(&amp;u8SsidList[2], <span class="stringliteral">&quot;DEMO_AP&quot;</span>, 7);  <span class="comment">// Bytes index 2-9 containing the string DEMO_AP</span></div>
<div class="line">u8SsidList[9] = 4; <span class="comment">// Length of the string &quot;TEST&quot; without NULL termination</span></div>
<div class="line">memcpy(&amp;u8SsidList[10], <span class="stringliteral">&quot;TEST&quot;</span>, 4);  <span class="comment">// Bytes index 10-13 containing the string TEST</span></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>It works with STA/AP mode (connected or disconnected).</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><ul>
<li>A Wi-Fi notification callback of type <a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0">tpfAppWifiCb</a> MUST be implemented and registered at initialization. Registering the callback is done through passing it to the <a class="el" href="group__m2m__wifi.html#ga66f5bf5f84f898bdd4453f2717a3deb5">m2m_wifi_init</a>.</li>
<li>The events <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> and <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a>. must be handled in the callback.</li>
<li>The <a class="el" href="group__m2m__wifi.html#gae397199d8523f172b33309b82c34c2af">m2m_wifi_handle_events</a> function MUST be called to receive the responses in the callback.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ad835febbe18b7e3cc6ce4693951354fe">M2M_WIFI_RESP_SCAN_DONE</a> <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20adfb48e88c3a8e5f9dac634d62d3f53e5">M2M_WIFI_RESP_SCAN_RESULT</a> <a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0" title="This is the main callback function for the Wi-Fi driver and is responsible for processing any M2M_WIF...">tpfAppWifiCb</a> <a class="el" href="structtstr_m2m_wifiscan_result.html" title="This struct contains the information corresponding to an AP in the scan result list identified by its...">tstrM2mWifiscanResult</a> <a class="el" href="group___w_l_a_n_enums.html#ga2a91dd671e2672dba1a7ed45230f3a99" title="This enum contains all the Wi-Fi RF channels.">tenuM2mScanCh</a> <a class="el" href="group__m2m__wifi.html#ga66f5bf5f84f898bdd4453f2717a3deb5" title="Synchronous API to initialize the WINC driver.">m2m_wifi_init</a> <a class="el" href="group__m2m__wifi.html#gae397199d8523f172b33309b82c34c2af" title="Synchronous M2M event handler function.">m2m_wifi_handle_events</a> <a class="el" href="group__m2m__wifi.html#gaecfcbf84f283cd76de00a6e884f421fe" title="Asynchronous API to request the information of an access point discovered via scanning.">m2m_wifi_req_scan_result</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns M2M_SUCCESS for successful operations and a negative value otherwise.</dd></dl>
<h1><a class="anchor" id="WIFIExample6b"></a>
Example</h1>
<p>The code snippet demonstrates an example of how the scan request is called from the application's main function and the handling of the events received in response.</p>
<div class="fragment"></div><!-- fragment --> 
</div>
</div>
<a id="gaf270d6f64b704d8a13358ddf4c7f21a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf270d6f64b704d8a13358ddf4c7f21a9">&#9670;&nbsp;</a></span>m2m_wifi_set_scan_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_set_scan_options </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtstr_m2_m_scan_option.html">tstrM2MScanOption</a> *&#160;</td>
          <td class="paramname"><em>ptstrM2MScanOption</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronous API for configuring the behaviour of the WINC network scanning functions. </p>
<p>This function allows the application to tune the scanning behaviour of the WINC using the parameters described in <a class="el" href="structtstr_m2_m_scan_option.html">tstrM2MScanOption</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptstrM2MScanOption;</td><td>Pointer to the structure holding the Scan Parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns M2M_SUCCESS if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___w_l_a_n_enums.html#ga2a91dd671e2672dba1a7ed45230f3a99" title="This enum contains all the Wi-Fi RF channels.">tenuM2mScanCh</a> <a class="el" href="group__m2m__wifi.html#ga39eab477f1dbb3b2a768d8a0fdc45b27" title="Asynchronous API to request the WINC to scan for networks.">m2m_wifi_request_scan</a> <a class="el" href="structtstr_m2_m_scan_option.html" title="This struct contains the configuration options for Wi-Fi scan.">tstrM2MScanOption</a> </dd></dl>

</div>
</div>
<a id="ga0f7cd8414e3725cae803b89c09b41bff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f7cd8414e3725cae803b89c09b41bff">&#9670;&nbsp;</a></span>m2m_wifi_set_scan_region()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_set_scan_region </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>u16ScanRegion</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronous API for configuring the regulatory restrictions that may affect the WINC scanning behaviour. </p>
<p>This function sets a property called the scan region, a parameter that affects the range of channels that the WINC may legally scan given a geographic region.</p>
<p>For 2.4GHz, supported in the current release, the requested scan region cannot exceed the maximum number of channels (14).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u16ScanRegion</td><td><a class="el" href="group___w_l_a_n_enums.html#gga7ffc49398ba597866801fd1e847a4183a32a37613e77fb416d0995b8612262bea">ASIA</a> <a class="el" href="group___w_l_a_n_enums.html#gga7ffc49398ba597866801fd1e847a4183a66b9054cf247c2d2a24ac27d7ae6eb72">EUROPE</a> <a class="el" href="group___w_l_a_n_enums.html#gga7ffc49398ba597866801fd1e847a4183a6a118305aab2bd0ff82e4d51f1898753">NORTH_AMERICA</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns M2M_SUCCESS if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___w_l_a_n_enums.html#ga7ffc49398ba597866801fd1e847a4183" title="This enum contains all the Wi-Fi channel regions.">tenuM2mScanRegion</a> <a class="el" href="group__m2m__wifi.html#ga39eab477f1dbb3b2a768d8a0fdc45b27" title="Asynchronous API to request the WINC to scan for networks.">m2m_wifi_request_scan</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
