<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RGBStatusLight: System Time</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RGBStatusLight
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___w_l_a_n_t_i_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">System Time<div class="ingroups"><a class="el" href="group__m2m__wifi.html">WLAN</a> &raquo; <a class="el" href="group___w_l_a_n_a_p_i.html">WLAN Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Here are listed all the functions that implement the System Time APIs.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga29af80f4f2d3bd510cb1f814ed8590d3"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#ga29af80f4f2d3bd510cb1f814ed8590d3">m2m_wifi_configure_sntp</a> (uint8_t *pu8NTPServerName, uint8_t u8NTPServerNameLength, <a class="el" href="group___w_l_a_n_enums.html#ga8eef709e17dc0454c9fd556f302766e2">tenuSNTPUseDHCP</a> enuUseDHCP)</td></tr>
<tr class="memdesc:ga29af80f4f2d3bd510cb1f814ed8590d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures what NTP server the SNTP client should use.  <a href="group___w_l_a_n_t_i_m_e.html#ga29af80f4f2d3bd510cb1f814ed8590d3">More...</a><br /></td></tr>
<tr class="separator:ga29af80f4f2d3bd510cb1f814ed8590d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97cd0378aa47bc3039ab0e30c926155a"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#ga97cd0378aa47bc3039ab0e30c926155a">m2m_wifi_enable_sntp</a> (uint8_t u8Enable)</td></tr>
<tr class="memdesc:ga97cd0378aa47bc3039ab0e30c926155a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous API to enable or disable the native Simple Network Time Protocol(SNTP) client running on the WINC.  <a href="group___w_l_a_n_t_i_m_e.html#ga97cd0378aa47bc3039ab0e30c926155a">More...</a><br /></td></tr>
<tr class="separator:ga97cd0378aa47bc3039ab0e30c926155a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4055ecd51b8c38e427d9f418f1743712"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a> (uint32_t u32UTCSeconds)</td></tr>
<tr class="memdesc:ga4055ecd51b8c38e427d9f418f1743712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous function for setting the system time within the WINC.  <a href="group___w_l_a_n_t_i_m_e.html#ga4055ecd51b8c38e427d9f418f1743712">More...</a><br /></td></tr>
<tr class="separator:ga4055ecd51b8c38e427d9f418f1743712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57394f15ef7d7c5a273776870680b9c3"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___w_l_a_n_t_i_m_e.html#ga57394f15ef7d7c5a273776870680b9c3">m2m_wifi_get_system_time</a> (void)</td></tr>
<tr class="memdesc:ga57394f15ef7d7c5a273776870680b9c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous API to obtain the system time in use by the WINC.  <a href="group___w_l_a_n_t_i_m_e.html#ga57394f15ef7d7c5a273776870680b9c3">More...</a><br /></td></tr>
<tr class="separator:ga57394f15ef7d7c5a273776870680b9c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Here are listed all the functions that implement the System Time APIs. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga29af80f4f2d3bd510cb1f814ed8590d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29af80f4f2d3bd510cb1f814ed8590d3">&#9670;&nbsp;</a></span>m2m_wifi_configure_sntp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_configure_sntp </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pu8NTPServerName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>u8NTPServerNameLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___w_l_a_n_enums.html#ga8eef709e17dc0454c9fd556f302766e2">tenuSNTPUseDHCP</a>&#160;</td>
          <td class="paramname"><em>enuUseDHCP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures what NTP server the SNTP client should use. </p>
<p>Configures what NTP server the SNTP client should use. Only 1 server name can be provided, if the configured server name begins with an asterisk then it will be treated as a server pool. The SNTP client can also use the NTP server provided by the DHCP server through option 42. By default the NTP server provided by DHCP will be tried first, then the built-in default NTP server (time.nist.gov) will be used. Configuring a server name will overwrite the built-in default server until next reboot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pu8NTPServerName</td><td>Buffer holding the NTP server name. If the first character is an asterisk (*) then it will be treated as a server pool, where the asterisk will be replaced with an incrementing value from 0 to 3 each time a server fails (example: *.pool.ntp.org).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u8NTPServerNameLength</td><td>Length of the NTP server name. Should not exceed the maximum NTP server name length of <a class="el" href="group___w_l_a_n_defines.html#ga8a697d06854e3e602bd2a2464149fd08">M2M_NTP_MAX_SERVER_NAME_LENGTH</a>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enuUseDHCP</td><td>Should the NTP server provided by the DHCP server be used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns M2M_SUCCESS for success and a negative value otherwise. </dd></dl>

</div>
</div>
<a id="ga97cd0378aa47bc3039ab0e30c926155a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97cd0378aa47bc3039ab0e30c926155a">&#9670;&nbsp;</a></span>m2m_wifi_enable_sntp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_enable_sntp </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>u8Enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous API to enable or disable the native Simple Network Time Protocol(SNTP) client running on the WINC. </p>
<p>The SNTP client is enabled by default during chip initialization. This function can be used to disable or subsequently re-enable the service.</p>
<p>The service is capable of synchronizing the WINC system clock to the UTC time from a well-known (and trusted) time server, for example "time.nist.gov". By default the SNTP client will update the system time once every 24 hours. The ability to track the time accurately is important for various applications such as checking expiry of X509 certificates during TLS (Transport Layer Security) session establishment.</p>
<p>It is highly recommended to leave SNTP enabled if there is no alternative source of timing information. For systems including an RTC device, SNTP may not be needed and the WINC's time may be set using the <a class="el" href="group__m2m__wifi.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u8Enable</td><td>Enables or disables the SNTP service '0' :disable SNTP '1' :enable SNTP</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns M2M_SUCCESS if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m2m__wifi.html#ga4055ecd51b8c38e427d9f418f1743712" title="Asynchronous function for setting the system time within the WINC.">m2m_wifi_set_system_time</a> </dd></dl>

</div>
</div>
<a id="ga57394f15ef7d7c5a273776870680b9c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga57394f15ef7d7c5a273776870680b9c3">&#9670;&nbsp;</a></span>m2m_wifi_get_system_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_get_system_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous API to obtain the system time in use by the WINC. </p>
<p>This function will request the WINC to report its current system time to the application. The information will arrive at the application via the <a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0">tpfAppWifiCb</a> and event <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ae79e6ab974502efae44b37b2ac620190">M2M_WIFI_RESP_GET_SYS_TIME</a>. Response time retrieved is parsed into the members defined in the structure <a class="el" href="structtstr_system_time.html">tstrSystemTime</a>.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>A Wi-Fi notification callback of type <a class="el" href="group___w_l_a_n_callbacks.html#ga736f9be563605a41689b47de03de14d0">tpfAppWifiCb</a> MUST be implemented and registered during initialization. Registration of the callback is done via the <a class="el" href="group__m2m__wifi.html#ga66f5bf5f84f898bdd4453f2717a3deb5">m2m_wifi_init</a> API.</li>
<li>The event <a class="el" href="group___w_l_a_n_enums.html#gga57466b36df595c593e7ccc9892e14b20ae79e6ab974502efae44b37b2ac620190">M2M_WIFI_RESP_GET_SYS_TIME</a> must be handled in the callback.</li>
</ul>
</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns M2M_SUCCESS if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m2m__wifi.html#ga97cd0378aa47bc3039ab0e30c926155a" title="Asynchronous API to enable or disable the native Simple Network Time Protocol(SNTP) client running on...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="This struct contains the system time.">tstrSystemTime</a> </dd></dl>

</div>
</div>
<a id="ga4055ecd51b8c38e427d9f418f1743712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4055ecd51b8c38e427d9f418f1743712">&#9670;&nbsp;</a></span>m2m_wifi_set_system_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t m2m_wifi_set_system_time </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u32UTCSeconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asynchronous function for setting the system time within the WINC. </p>
<p>Function for setting the system time in time/date format (uint32_t). The <a class="el" href="structtstr_system_time.html">tstrSystemTime</a> structure can be used as a reference to the time values that should be set and pass its value as uint32_t.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">u32UTCSeconds</td><td>Seconds elapsed since January 1, 1900 (NTP Timestamp).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns M2M_SUCCESS if the command has been successfully queued to the WINC and a negative value otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__m2m__wifi.html#ga97cd0378aa47bc3039ab0e30c926155a" title="Asynchronous API to enable or disable the native Simple Network Time Protocol(SNTP) client running on...">m2m_wifi_enable_sntp</a> <a class="el" href="structtstr_system_time.html" title="This struct contains the system time.">tstrSystemTime</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>If there is an RTC on the host MCU, the SNTP may be disabled and the host may set the system time within the firmware using the API <a class="el" href="group__m2m__wifi.html#ga4055ecd51b8c38e427d9f418f1743712">m2m_wifi_set_system_time</a>. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
